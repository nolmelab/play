# alpha 

알파는 게임 기능 없이 인스턴스 내에서 채팅만 가능한 앱입니다. 

인증, 월드, 게임으로 이루어지는 플레이의 분산 처리 모델이 잘 동작하는지 검증하고 
가장 단순한 코드 기반으로 개별 게임에 맞는 기초(bare minimum)을 제공하기 위한 
프로젝트입니다. 

## 구조

- master
  - user_service
  - room_service
  - friend_service

- front 
  - auth_service
  - lobby_service
  - room_runner_service

## 기능

- 인증
- 로비 진출입
- 방 진출입
- 방 채팅
- 친구 추가 / 삭제 / 조회 
- 친구 채팅

db를 사용하지 않으면서 유용한 기능을 충분히 갖는 앱으로 적당합니다.

통신과 분산 처리 구조에 대한 사용성 검증을 충분히 하면서
ensure 봇들로 부하 테스트를 통해 성능과 안정성 검증도 할 수 있습니다.

## remote_call_service (rcs)

분산 처리는 생각보다 어려운데 단선과 크래시가 구분되지 않는 문제가 그 시작입니다. 
요청을 보내고 해당 요청의 콜백에서 처리를 이어서 하게 되는데 (continutation) 
이 때 단선에 대해서도 동일한 처리를 에러 처리로 이어가야 합니다. 

이 처리를 매우 간단한 구조로 해결하려고 하는 아이디어가 remote call service(rcs)입니다. 
rpc는 함수 형태로 IDL에서 생성한 호출로 동기 방식의 인터페이스를 사용하지만 
rcs는 play 전체에 걸친 proactor 기반의 비동기 초출에 기초합니다. 

단선에 대해서만 이어갈 수 있도록 편의 기능을 제공합니다. 
rcs::call(), rcs::reply() 인터페이스로 간단하게 하면서 콜백을 등록하고 처리 가능하게 합니다. 

모든 분산 처리를 rcs 기반으로 할 수는 없고 rcs가 있더라도 추가로 해결해야 할 문제들은 
있습니다. 장애에 어떻게 대응할 것인가 하는 정책이 가장 중요하고 정책적인 아이디어들에 
기반하여 지원할 수 있는 구현이 필요합니다. 

알파에서는 이 rcs 기능도 구현하게 됩니다. 어쩌면 가장 중요한 핵심 중 하나가 되겠습니다. 

## 진행 

- alpha 앱의 시작과 종료 
- lobby_service의 구현 
  - lobby_req_login / lobby_ack_login 
  - 

