# alpha 

알파는 게임 기능 없이 인스턴스 내에서 채팅만 가능한 앱입니다. 

인증, 월드, 게임으로 이루어지는 플레이의 분산 처리 모델이 잘 동작하는지 검증하고 
가장 단순한 코드 기반으로 개별 게임에 맞는 기초(bare minimum)을 제공하기 위한 
프로젝트입니다. 

## 구조

앞단과 뒷단으로 나누어 서비스를 구성합니다. 사용자 인증과 방 처리로 
크게 나뉩니다. 

TODO: detail the structure and patterns

## 기능

- 인증
- 로비 진출입
- 방 진출입
- 방 채팅
- 친구 추가 / 삭제 / 조회 
- 친구 채팅

db를 사용하지 않으면서 유용한 기능을 충분히 갖는 앱으로 적당합니다.

통신과 분산 처리 구조에 대한 사용성 검증을 충분히 하면서
ensure 봇들로 부하 테스트를 통해 성능과 안정성 검증도 할 수 있습니다.

## pulse와 분산 처리

분산 처리는 생각보다 어려운데 단선과 크래시가 구분되지 않는 문제가 그 시작입니다. 
요청을 보내고 해당 요청의 콜백에서 처리를 이어서 하게 되는데 (continutation) 
이 때 단선에 대해서도 동일한 처리를 에러 처리로 이어가야 합니다. 

이 처리를 매우 간단한 구조로 해결하려고 하는 아이디어가 pulse::call()입니다. 
rpc는 함수 형태로 IDL에서 생성한 호출로 동기 방식의 인터페이스를 사용하지만 
call()은 play 전체에 걸친 proactor 기반의 비동기 호출에 기초합니다. 

call() 호출 시 응답 토픽을 전달하고 call() 내부 구현에서 단선이나 전송 
실패가 발생하면 콜백을 통해 알려줍니다. 응답이 오면 관리 데이터를 제거합니다. 
토픽 아이디와 대기 응답 번호만 기억하므로 적은 데이터로 관리가 가능합니다. 




