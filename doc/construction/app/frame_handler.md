# frame_handler

flatbuffer_handler만 접근할 수 있으면 프로토콜 처리를 할 수 있습니다. 
frame_handler라는 개념을 만든 이유입니다. 그런데 하다 보니 보일러 플레이트 코드가 
많아집니다. ensure의 act는 bot에 종속되고 연결에 대한 처리도 bot 단위로 
이루어져야 합니다. service 중심으로 구조화 하는 서버와 다릅니다. 
이 둘에서 모두 편하게 앱을 만들 수 있는 도구가 필요합니다. 

frame_handler를 사용하려면 sub / unsub를 topic과 session에 대해 손쉽게 할 수 
있어야 합니다. 이런 언어 도구는 c++에서 템플릿과 매크로입니다. 매크로는 
약간 파괴적인 능력을 갖습니다. 타잎 변환과 같이 막강하지만 체크가 없습니다. 

## frame_handler의 정의 

Session이 템플릿 파라미터입니다. Session은 Protocol은 Topic을 파라미터로 합니다. 
따라서, <session<secure_protocol<uint16_t>>, flatbuffers::NativeTable>와 같은 
의존을 갖습니다. 

유연한 구조를 계속 유지하기는 어렵습니다. 구체화는 고정을 뜻합니다. 따라서, 
어느 시점부터 필요한 도구를 더 많이 확보하려면 고정해야 합니다. 고정하는 지점에 
대한 결정은 중요합니다. 어떻게 고정하는지도 중요합니다.

아직 어디서 어떻게 고정해야 할지 결정하지 못 하고 있습니다. 알파를 진행하는 
이유 중 하나입니다. 알파에서 자유롭게 필요한 기능을 모두 구현하면서 
잘 동작하는 구조를 찾고 이를 정리하면서 추상화합니다. 

현재 app이 거의 비어 있는 상태라는 점이 시사하는 바가 큽니다. 아마도 
알파의 app 기능을 여기로 올리는 방식으로 구체화를 진행해야 하지 않을까 
싶습니다. 

## 필요 기능 

- sub, unsub 
- sub_session, unsub_session 

