# lobby 

사용자 인증과 방 생성과 진입을 처리하는 매우 단순한 프로토콜 구현을 통해 통신과 
분산 처리의 사용성을 완성하려고 합니다. 

pulse는 큰 도움이 되는 구조입니다. 하지만 더 많은 기능이 사전에 필요합니다. 
call() 처리가 필요한 서버간 세션을 알아야 하는 경우가 많습니다. 이를 관리하는 
구조가 필요합니다. 무엇일까요? 어디까지 추상화하여 갖고 있어야 할까요? 

약간 미묘한 면이 많습니다. 독립적으로 동작하는 객체들은 항상 소통이 필요합니다. 
소통은 매우 어려운 면이 있습니다. 미묘합니다. 하지만 모든 객체들은 변화하지만 
특정 면에서 고정되어 있습니다. 프로그램은 고정시킬 수 있습니다. 이 고정이 
프로토콜이 됩니다. 안정적인 프로토콜을 최대한 단순하게 (사용성을 만족하는 최소한)
구현합니다. 

## 서비스 알림과 찾기 

pulse 처럼 net 단에 두기는 어렵습니다. 애플리케이션에서 "사용"하여 구현할 수 있는 
구조가 더 적합해 보입니다. 아래에 있으면 맞출 수 없는 면이 있어 구조가 잘 안 나올 수 
있습니다. 

lobby_runner 서비스에서 필요한 것은 백엔드 서버의 세션입니다. pulse로 찾을 수도 
있지만 lobby_master는 연결을 받는 구조이기 때문에 같이 쓸 수 없습니다. 이를 위한 
단순한 프로토콜을 추가합니다. 

서비스 단에서 알 수 있는 정보를 추가합니다. service::syn_lobby_runner_up, 
service::syn_room_runner_up, service::syn_lobby_master_up, ... 많습니다. 
필요한 정보를 채울 수 있다는 면에서 좋습니다. 경험상 항상 필요하게 됩니다. 

늦게 실행된 서비스에서도 통지를 받도록 하려면 주기적인 배포가 필요합니다. 
클라로 실행되는 서비스에서 요청하고 응답을 받을 때까지 재시도 합니다. 


